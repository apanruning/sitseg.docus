{% extends "index.html" %}
{% block title %}
    Cantidades por {{label}}
{% endblock %}
{% block js %}
<script type="text/javascript" language="javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(draw_chart)
    function draw_chart(){
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Label');
        data.addColumn('number', '{{label}}');
        data.addRows({{dataset|length}});
        {% for item in dataset %}
        data.setValue({{forloop.counter0}},0,'{{item.value}}')
        data.setValue({{forloop.counter0}},1,{{item.count}})
        {% endfor %}
        var chart = new google.visualization.ColumnChart(document.getElementById('chart'));
        chart.draw(data, {
                width: 1200, 
                height: 240, 
                hAxis: {
                    title: '{{label}}', 
                }
                
             });
    };
</script>
{% endblock %}    
{% block head %}
<h1><a title="Index"href="/">home</a>/<a href="{% url detail column.datasource_id %}">{{column.datasource.name}}</a>/Cantidades por {{label}}</h1>
{% endblock %}    
{% block page %}
{% if column.has_geodata %}
<ul id="sort">
  <li><a href="{{request.full_path}}">Todos</a></li>
  <li><a href="?multiple">Ambiguos</a></li>
  <li><a href="?empty">No encontrados</a></li>
  <li><a href="?full">SÃ³lo encontrados</a></li>  
</ul>  
{% endif %}


<div id="chart"></div>
    
{% endblock %}
